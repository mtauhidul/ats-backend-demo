# ============================================
# SERVER CONFIGURATION
# ============================================
NODE_ENV=development
PORT=5001
API_VERSION=v1

# ============================================
# DATABASE
# ============================================
MONGODB_URI=mongodb://localhost:27017/ats
# Production: mongodb+srv://username:password@cluster.mongodb.net/ats

# ============================================
# CLERK AUTHENTICATION
# ============================================
CLERK_PUBLISHABLE_KEY=pk_test_xxx
CLERK_SECRET_KEY=sk_test_xxx
CLERK_JWT_KEY=your_jwt_verification_key

# ============================================
# FRONTEND URL (CORS)
# ============================================
FRONTEND_URL=http://localhost:5173
# Production: https://ats.aristagroups.com

# ============================================
# CLOUDINARY (FILE STORAGE)
# ============================================
CLOUDINARY_CLOUD_NAME=your_cloud_name
CLOUDINARY_API_KEY=your_api_key
CLOUDINARY_API_SECRET=your_api_secret

# ============================================
# OPENAI (AI RESUME PARSING & SCORING)
# ============================================
# OpenAI is used for AI-powered resume parsing and candidate scoring
# Get your API key from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-xxx
OPENAI_MODEL=gpt-4o-mini
OPENAI_SCORING_MODEL=gpt-4o

# ============================================
# ADOBE PDF SERVICES (PDF TEXT EXTRACTION FALLBACK)
# ============================================
# Get credentials from: https://developer.adobe.com/document-services/
# Free tier: 500 transactions/month
# Works great for image-based/scanned PDFs (includes OCR)
#
# Setup:
# 1. Sign up at Adobe Developer Console
# 2. Create a new project
# 3. Add PDF Services API
# 4. Get Client ID and Client Secret
ADOBE_CLIENT_ID=your_adobe_client_id
ADOBE_CLIENT_SECRET=your_adobe_client_secret

# ============================================
# ZOOM API (VIDEO INTERVIEWS)
# ============================================
ZOOM_ACCOUNT_ID=your_account_id
ZOOM_CLIENT_ID=your_client_id
ZOOM_CLIENT_SECRET=your_client_secret

# ============================================
# EMAIL CONFIGURATION - OUTBOUND (RESEND)
# ============================================
# Get your API key from: https://resend.com/api-keys
RESEND_API_KEY=re_xxx

# FROM EMAIL - IMPORTANT:
# Development: Use onboarding@resend.dev (always works, no verification needed)
# Production: Use your verified domain email (e.g., noreply@yourdomain.com)
#             You must verify your domain at https://resend.com/domains
RESEND_FROM_EMAIL=onboarding@resend.dev

# Display name for outgoing emails
RESEND_FROM_NAME=ATS System

# RESEND INBOUND EMAIL (BETA FEATURE)
# Resend webhook secret for signature verification (optional but recommended)
# Get from: https://resend.com/webhooks
RESEND_WEBHOOK_SECRET=your_webhook_secret_here

# INBOUND EMAIL SETUP:
# 1. Join the inbound email waitlist: https://resend.com/inbound
# 2. Once approved, configure inbound domain in Resend dashboard
# 3. Create a webhook for 'email.received' event pointing to:
#    https://your-domain.com/api/webhooks/resend
# 4. For testing, use ngrok: ngrok http 5001
#    Then set webhook to: https://your-ngrok-url.ngrok.io/api/webhooks/resend
# 5. Configure MX records for your custom domain (optional)
#    Or use the provided .resend.app domain

# ============================================
# EMAIL CONFIGURATION - INBOUND (SYSTEM EMAIL)
# ============================================
# Production - cPanel IMAP
SYSTEM_EMAIL_HOST=mail.aristagroups.com
SYSTEM_EMAIL_PORT=993
SYSTEM_EMAIL_USER=resume@aristagroups.com
SYSTEM_EMAIL_PASSWORD=your_password
SYSTEM_EMAIL_TLS=true

# Testing - Gmail IMAP (uncomment to use)
# SYSTEM_EMAIL_HOST=imap.gmail.com
# SYSTEM_EMAIL_PORT=993
# SYSTEM_EMAIL_USER=your-test@gmail.com
# SYSTEM_EMAIL_PASSWORD=your_app_password
# SYSTEM_EMAIL_TLS=true

# ============================================
# EMAIL AUTOMATION
# ============================================
EMAIL_CHECK_INTERVAL=15  # minutes
EMAIL_MAX_FETCH=50       # emails per check

# ============================================
# SECURITY
# ============================================
JWT_SECRET=your_jwt_secret_key_change_in_production
# Access token expiry: '15m', '1h', '24h', '7d', '30d', '365d', or 'never' for no expiration
JWT_EXPIRES_IN=24h
REFRESH_TOKEN_SECRET=your_refresh_token_secret_change_in_production
# Refresh token expiry: '7d', '30d', '365d', or 'never' for no expiration
REFRESH_TOKEN_EXPIRES_IN=7d
ENCRYPTION_KEY=your_32_character_encryption_key_here
ENCRYPTION_IV=your_16_character_iv_here

# ============================================
# RATE LIMITING
# ============================================
# Time window in minutes for rate limiting
RATE_LIMIT_WINDOW=15  

# Max requests per window (set higher for development, lower for production)
# Development: 1000+ recommended
# Production: 100-500 recommended based on your needs
RATE_LIMIT_MAX=1000

# Note: Rate limiting is automatically disabled for localhost in development mode

# ============================================
# LOGGING
# ============================================
LOG_LEVEL=info
LOG_FILE=logs/app.log

# ============================================
# FILE UPLOAD LIMITS
# ============================================
MAX_FILE_SIZE=10485760  # 10MB in bytes
ALLOWED_FILE_TYPES=pdf,doc,docx

# ============================================
# REDIS (OPTIONAL - FOR CACHING)
# ============================================
# REDIS_URL=redis://localhost:6379
# REDIS_PASSWORD=
